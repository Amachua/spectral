====test====
Rules matching multiple properties in the document
====document====
schemas:
  user:
    type: object
    properties:
      name:
        type: number
      age:
        type: number
      occupation:
        type: boolean
  address:
====command====
{bin} lint {document} -r {asset:ruleset}
====asset:ruleset====
rules:
  valid-user-properties:
    severity: error
    given: [$.schemas.user.properties.name, $.schemas.user.properties.occupation]
    then:
      field: type
      function: pattern
      functionOptions:
        match: /^string$/
  require-user-and-address:
    severity: error
    given: [$.schemas.user, $.schemas.address]
    then:
      function: truthy
====status====
1
====stdout====
[4m{document}[24m
  6:15  [31merror[39m  valid-user-properties     must match the pattern '/^string$/'
 10:15  [31merror[39m  valid-user-properties     must match the pattern '/^string$/'
 11:11  [31merror[39m  require-user-and-address  schemas.address is not truthy

[31m[1mâœ– 3 problems (3 errors, 0 warnings, 0 infos, 0 hints)[22m[39m
[31m[1m[22m[39m
